<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>For Ridhima ‚ù§Ô∏è</title>

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#050507;
      --bg2:#0c0c10;
      --glass: rgba(255,255,255,.08);
      --stroke: rgba(255,255,255,.18);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.72);
      --accent: #ff2d55;
      --accent2:#b84cff;
      --good:#19c37d;
      --bad:#ff5a5f;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      font-family:Poppins, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 10% 15%, rgba(184,76,255,.18), transparent 60%),
        radial-gradient(900px 600px at 85% 20%, rgba(255,45,85,.18), transparent 55%),
        radial-gradient(900px 600px at 45% 90%, rgba(255,255,255,.06), transparent 55%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      overflow-x:hidden;
    }
    .noise{
      pointer-events:none;
      position:fixed; inset:0;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='160' height='160' filter='url(%23n)' opacity='.22'/%3E%3C/svg%3E");
      opacity:.25;
      mix-blend-mode:overlay;
    }

    /* floating hearts background */
    .float-layer{ position:fixed; inset:0; pointer-events:none; overflow:hidden; }
    .float-heart{
      position:absolute;
      font-size:18px;
      opacity:.0;
      animation: drift 10s linear infinite;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.4));
    }
    @keyframes drift{
      0%{ transform:translateY(110vh) translateX(0) scale(.8); opacity:0;}
      10%{opacity:.45}
      70%{opacity:.35}
      100%{ transform:translateY(-20vh) translateX(60px) scale(1.15); opacity:0;}
    }

    /* layout */
    .wrap{
      max-width:1040px;
      margin:0 auto;
      padding:28px 18px 70px;
    }
    .topbar{
      display:flex;
      gap:12px;
      justify-content:space-between;
      align-items:center;
      margin-bottom:18px;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 14px;
      border:1px solid var(--stroke);
      background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      border-radius:999px;
      backdrop-filter: blur(10px);
      box-shadow: 0 20px 40px rgba(0,0,0,.25);
      font-size:13px;
      color:var(--muted);
    }
    .badge b{ color: var(--text); font-weight:600; }
    .controls{ display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end; }
    .btn{
      border:1px solid var(--stroke);
      background:linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
      color:var(--text);
      padding:10px 14px;
      border-radius:14px;
      cursor:pointer;
      backdrop-filter: blur(10px);
      transition:.2s transform, .2s opacity, .2s border-color;
      font-weight:600;
      font-size:13px;
      letter-spacing:.2px;
    }
    .btn:hover{ transform: translateY(-1px); border-color: rgba(255,255,255,.32); }
    .btn:active{ transform: translateY(0px); opacity:.9; }
    .btn.primary{
      border-color: rgba(255,45,85,.55);
      background: linear-gradient(135deg, rgba(255,45,85,.35), rgba(184,76,255,.22));
    }
    .btn.good{
      border-color: rgba(25,195,125,.6);
      background: linear-gradient(135deg, rgba(25,195,125,.25), rgba(255,255,255,.06));
    }
    .btn.bad{
      border-color: rgba(255,90,95,.6);
      background: linear-gradient(135deg, rgba(255,90,95,.22), rgba(255,255,255,.06));
    }

    .hero{
      position:relative;
      border:1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05));
      border-radius:26px;
      padding:26px 18px 18px;
      backdrop-filter: blur(14px);
      box-shadow: 0 30px 80px rgba(0,0,0,.40);
      overflow:hidden;
    }
    .glow{
      position:absolute; inset:-80px;
      background:
        radial-gradient(400px 240px at 20% 25%, rgba(255,45,85,.22), transparent 60%),
        radial-gradient(420px 260px at 80% 30%, rgba(184,76,255,.20), transparent 60%),
        radial-gradient(520px 300px at 50% 85%, rgba(255,255,255,.08), transparent 65%);
      filter: blur(10px);
      opacity:.8;
      pointer-events:none;
    }

    .grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:18px;
      position:relative;
    }
    @media (max-width: 920px){
      .grid{ grid-template-columns: 1fr; }
    }

    h1{
      font-family:"Playfair Display", serif;
      font-size:44px;
      margin:10px 0 6px;
      letter-spacing:.2px;
    }
    .sub{
      color:var(--muted);
      margin:0 0 16px;
      line-height:1.6;
      font-size:15px;
    }

    .quote{
      margin-top:14px;
      padding:14px 16px;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color: rgba(255,255,255,.88);
      line-height:1.75;
      font-size:15px;
    }
    .sig{
      margin-top:10px;
      color: rgba(255,255,255,.80);
      font-weight:600;
      letter-spacing:.3px;
    }

    /* slideshow */
    .slideshow{
      border-radius:22px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.25);
      overflow:hidden;
      position:relative;
      min-height:320px;
      box-shadow: 0 20px 60px rgba(0,0,0,.35);
    }
    .slide{
      position:absolute; inset:0;
      opacity:0;
      transform: scale(1.03);
      transition: opacity .9s ease, transform 1.2s ease;
      background-size: cover;
      background-position:center;
      filter: contrast(1.05) saturate(1.08);
    }
    .slide.active{
      opacity:1;
      transform: scale(1);
    }
    .shade{
      position:absolute; inset:0;
      background:
        linear-gradient(180deg, rgba(0,0,0,.05), rgba(0,0,0,.35)),
        radial-gradient(700px 380px at 50% 0%, transparent, rgba(0,0,0,.45));
      pointer-events:none;
    }
    .slide-ui{
      position:absolute;
      left:12px; right:12px; bottom:12px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
    }
    .dots{ display:flex; gap:7px; flex-wrap:wrap; }
    .dot{
      width:9px; height:9px; border-radius:999px;
      border:1px solid rgba(255,255,255,.35);
      background: rgba(255,255,255,.12);
      opacity:.75;
      cursor:pointer;
      transition:.2s transform, .2s opacity, .2s background;
    }
    .dot.active{ background: rgba(255,45,85,.65); border-color: rgba(255,45,85,.8); opacity:1; transform:scale(1.15); }
    .caption{
      font-size:12px;
      color: rgba(255,255,255,.82);
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.18);
      backdrop-filter: blur(10px);
      max-width:65%;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    /* valentine ask card */
    .ask{
      margin-top:16px;
      padding:16px;
      border-radius:22px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
    }
    .ask h2{
      margin:0 0 8px;
      font-family:"Playfair Display", serif;
      font-size:26px;
      letter-spacing:.2px;
    }
    .ask p{ margin:0 0 12px; color: var(--muted); line-height:1.6; font-size:14px; }
    .row{ display:flex; gap:10px; flex-wrap:wrap; }
    .result{
      margin-top:12px;
      padding:12px 14px;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.16);
      color: rgba(255,255,255,.88);
      line-height:1.7;
      display:none;
    }
    .result.show{ display:block; animation: pop .35s ease; }
    @keyframes pop{ from{transform:scale(.98); opacity:.2} to{transform:scale(1); opacity:1} }

    /* secret message */
    .secret{
      margin-top:14px;
      padding:14px 16px;
      border-radius:22px;
      border:1px dashed rgba(255,255,255,.22);
      background: rgba(255,255,255,.06);
    }
    .secret .hint{
      font-size:13px; color: var(--muted); margin-bottom:10px;
    }
    .secret input{
      width:100%;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(0,0,0,.25);
      color: var(--text);
      outline:none;
    }
    .secret .reveal{
      margin-top:10px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    .secret .msg{
      margin-top:10px;
      display:none;
      padding:12px 14px;
      border-radius:18px;
      border:1px solid rgba(255,45,85,.35);
      background: rgba(255,45,85,.12);
      line-height:1.7;
    }
    .secret .msg.show{ display:block; }

    /* password gate */
    .gate{
      position:fixed; inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:18px;
      background: radial-gradient(900px 500px at 50% 15%, rgba(255,45,85,.18), transparent 60%),
                  radial-gradient(900px 500px at 40% 90%, rgba(184,76,255,.18), transparent 60%),
                  linear-gradient(180deg, #050507, #07070b);
      z-index:50;
    }
    .gate-card{
      width:min(560px, 100%);
      border-radius:26px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.07);
      backdrop-filter: blur(14px);
      box-shadow: 0 40px 120px rgba(0,0,0,.55);
      padding:22px 18px 18px;
      position:relative;
      overflow:hidden;
    }
    .gate-card h1{ font-size:34px; margin:8px 0 6px; }
    .gate-card p{ margin:0 0 14px; color: var(--muted); line-height:1.6; font-size:14px; }
    .gate-card input{
      width:100%;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(0,0,0,.25);
      color: var(--text);
      outline:none;
      font-size:14px;
    }
    .gate-actions{ margin-top:12px; display:flex; gap:10px; flex-wrap:wrap; }
    .tiny{ font-size:12px; color: rgba(255,255,255,.65); margin-top:10px; line-height:1.5; }
    .shake{ animation: shake .35s ease; }
    @keyframes shake{
      0%,100%{transform:translateX(0)}
      20%{transform:translateX(-7px)}
      40%{transform:translateX(6px)}
      60%{transform:translateX(-5px)}
      80%{transform:translateX(4px)}
    }

    /* confetti canvas */
    canvas#confetti{
      position:fixed; inset:0;
      pointer-events:none;
      z-index:40;
    }

    /* footer */
    .footer{
      margin-top:18px;
      text-align:center;
      color: rgba(255,255,255,.65);
      font-size:12px;
    }
    .footer b{ color: rgba(255,255,255,.85); }
  </style>
</head>

<body>
  <div class="noise"></div>
  <div class="float-layer" id="floatLayer"></div>
  <canvas id="confetti"></canvas>

  <!-- PASSWORD GATE -->
  <div class="gate" id="gate">
    <div class="gate-card" id="gateCard">
      <div class="glow"></div>
      <div class="badge">üîí Private Page ¬∑ <b>For Ridhima</b></div>
      <h1>One last thing‚Ä¶</h1>
      <p>Enter the password to open your Valentine surprise.</p>

      <!-- CHANGE THIS PASSWORD -->
      <input id="pw" placeholder="Password‚Ä¶" autocomplete="off" />

      <div class="gate-actions">
        <button class="btn primary" id="unlockBtn">Unlock üíò</button>
        <button class="btn" id="hintBtn">Hint üëÄ</button>
      </div>

      <div class="tiny" id="hintText" style="display:none;">
        Hint: It can be something only you two know (example: <b>first nickname</b>, <b>first date</b>, or <b>favorite word</b>).
      </div>

      <div class="tiny" style="margin-top:12px;">
        If music doesn‚Äôt autoplay, tap the ‚ÄúMusic‚Äù button after opening üéß
      </div>
    </div>
  </div>

  <div class="wrap" id="main" style="display:none;">
    <div class="topbar">
      <div class="badge">üíå Valentine Special ¬∑ Made with chaos & love by <b>Zayn</b></div>

      <div class="controls">
        <button class="btn" id="musicBtn">üéß Music: Off</button>
        <button class="btn" id="nextBtn">üñºÔ∏è Next</button>
        <button class="btn primary" id="confettiBtn">‚ú® Bless this moment</button>
      </div>
    </div>

    <section class="hero">
      <div class="glow"></div>

      <div class="grid">
        <div>
          <h1>Ridhima ‚ù§Ô∏è</h1>
          <p class="sub">
            This isn‚Äôt just a page.  
            It‚Äôs a small place on the internet that exists only to say one thing:
            <b>you‚Äôre special to me</b>.
          </p>

          <div class="quote" id="mainText">
            I don‚Äôt need perfect days‚Ä¶ I just need <b>you</b> in my days.  
            You‚Äôre my favorite thought, my calm, and my prettiest blessing.
          </div>

          <div class="sig">‚Äî Always yours, Zayn</div>

          <div class="ask">
            <h2>Will you be my Valentine?</h2>
            <p>Choose wisely‚Ä¶ because I‚Äôm not accepting ‚ÄúNo‚Äù peacefully üò≠üíò</p>
            <div class="row">
              <button class="btn good" id="yesBtn">Yes üò≥‚ù§Ô∏è</button>
              <button class="btn bad" id="noBtn">No üôÑ</button>
            </div>
            <div class="result" id="resultBox"></div>
          </div>

          <div class="secret">
            <div class="hint">üîê Secret message (type your name and press reveal)</div>
            <input id="secretInput" placeholder="Type: Ridhima" />
            <div class="reveal">
              <button class="btn primary" id="revealBtn">Reveal üíå</button>
              <button class="btn" id="changeLineBtn">Switch Message ‚ú®</button>
            </div>
            <div class="msg" id="secretMsg"></div>
          </div>
        </div>

        <div>
          <div class="slideshow" id="slideshow">
            <!-- Change images below -->
            <div class="slide active" style="background-image:url('https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?auto=format&fit=crop&w=1200&q=80')"></div>
            <div class="slide" style="background-image:url('https://images.unsplash.com/photo-1520975958225-2b5d4b86c1d5?auto=format&fit=crop&w=1200&q=80')"></div>
            <div class="slide" style="background-image:url('https://images.unsplash.com/photo-1518199266791-5375a83190b7?auto=format&fit=crop&w=1200&q=80')"></div>
            <div class="slide" style="background-image:url('https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=1200&q=80')"></div>

            <div class="shade"></div>

            <div class="slide-ui">
              <div class="dots" id="dots"></div>
              <div class="caption" id="caption">A little universe for you ‚ú®</div>
            </div>
          </div>

          <div class="footer">
            Tip: Replace the photos with your own for max damage üòÆ‚Äçüí®‚ù§Ô∏è
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- MUSIC (replace src with your song mp3 link) -->
  <audio id="song" loop preload="auto">
    <!-- Put an mp3 link you control (Google Drive direct link / GitHub raw / etc.) -->
    <source src="https://cdn.pixabay.com/download/audio/2022/10/25/audio_f7c8a1e49a.mp3?filename=romantic-piano-126700.mp3" type="audio/mpeg">
  </audio>

  <script>
    /**********************
     * 1) CUSTOMIZE HERE
     **********************/
    const PASSWORD = "ridhima"; // <-- change password (lowercase recommended)

    const captions = [
      "A little universe for you ‚ú®",
      "If love had a face, it would look like you üò≠‚ù§Ô∏è",
      "I choose you. Every time.",
      "You‚Äôre my peace + my favorite chaos."
    ];

    const loveLines = [
      "You‚Äôre not just my Valentine‚Ä¶ you‚Äôre my favorite person. Always.",
      "I don‚Äôt want a perfect love story. I want a real one ‚Äî with you.",
      "If I had one wish, it‚Äôs more days with you‚Ä¶ that‚Äôs it.",
      "You make life feel softer. And I‚Äôll always protect that."
    ];

    /**********************
     * 2) PASSWORD GATE
     **********************/
    const gate = document.getElementById("gate");
    const main = document.getElementById("main");
    const pw = document.getElementById("pw");
    const unlockBtn = document.getElementById("unlockBtn");
    const hintBtn = document.getElementById("hintBtn");
    const hintText = document.getElementById("hintText");
    const gateCard = document.getElementById("gateCard");

    hintBtn.addEventListener("click", () => {
      hintText.style.display = (hintText.style.display === "none") ? "block" : "none";
    });

    function unlock(){
      const val = (pw.value || "").trim().toLowerCase();
      if(val === PASSWORD.toLowerCase()){
        gate.style.display = "none";
        main.style.display = "block";
        softConfetti();
        spawnHearts(18);
        // try autoplay (may require user gesture)
        tryPlay();
      } else {
        gateCard.classList.remove("shake");
        void gateCard.offsetWidth;
        gateCard.classList.add("shake");
      }
    }
    unlockBtn.addEventListener("click", unlock);
    pw.addEventListener("keydown", (e)=>{ if(e.key==="Enter") unlock(); });

    /**********************
     * 3) SLIDESHOW
     **********************/
    const slides = Array.from(document.querySelectorAll(".slide"));
    const dotsWrap = document.getElementById("dots");
    const caption = document.getElementById("caption");
    const nextBtn = document.getElementById("nextBtn");

    let idx = 0;
    slides.forEach((_, i)=>{
      const d = document.createElement("div");
      d.className = "dot" + (i===0 ? " active" : "");
      d.addEventListener("click", ()=>goTo(i));
      dotsWrap.appendChild(d);
    });
    const dots = Array.from(document.querySelectorAll(".dot"));

    function goTo(i){
      slides[idx].classList.remove("active");
      dots[idx].classList.remove("active");

      idx = (i + slides.length) % slides.length;

      slides[idx].classList.add("active");
      dots[idx].classList.add("active");
      caption.textContent = captions[idx] || "‚ù§Ô∏è";
    }
    function next(){ goTo(idx+1); }
    nextBtn.addEventListener("click", next);

    setInterval(()=>{ next(); }, 6500);

    /**********************
     * 4) MUSIC
     **********************/
    const song = document.getElementById("song");
    const musicBtn = document.getElementById("musicBtn");
    let musicOn = false;

    async function tryPlay(){
      // autoplay often blocked; this will succeed if user already interacted
      try{
        await song.play();
        musicOn = true;
        musicBtn.textContent = "üéß Music: On";
      }catch(err){
        musicOn = false;
        musicBtn.textContent = "üéß Music: Tap to Play";
      }
    }

    musicBtn.addEventListener("click", async ()=>{
      if(!musicOn){
        try{
          await song.play();
          musicOn = true;
          musicBtn.textContent = "üéß Music: On";
        }catch(e){
          musicBtn.textContent = "üéß Music: Can‚Äôt autoplay";
        }
      } else {
        song.pause();
        musicOn = false;
        musicBtn.textContent = "üéß Music: Off";
      }
    });

    /**********************
     * 5) VALENTINE BUTTONS
     **********************/
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const resultBox = document.getElementById("resultBox");

    let noCount = 0;

    yesBtn.addEventListener("click", ()=>{
      resultBox.classList.add("show");
      resultBox.innerHTML = "YESS?? üò≠‚ù§Ô∏è Okay listen‚Ä¶ you just made me the happiest person alive.<br><br><b>Happy Valentine‚Äôs Day, Ridhima.</b> üíò";
      blastConfetti();
      spawnHearts(28);
    });

    noBtn.addEventListener("mouseenter", ()=>{
      // make the button run away a little
      const x = (Math.random()*240) - 120;
      const y = (Math.random()*120) - 60;
      noBtn.style.transform = `translate(${x}px, ${y}px)`;
    });
    noBtn.addEventListener("click", ()=>{
      noCount++;
      resultBox.classList.add("show");
      if(noCount < 3){
        resultBox.textContent = "Hmm‚Ä¶ try again üòê‚ù§Ô∏è";
      } else if(noCount < 6){
        resultBox.textContent = "Broooo stop üò≠ you‚Äôre literally my Valentine.";
      } else {
        resultBox.innerHTML = "Okay you‚Äôre officially banned from saying no üò§üíò<br><b>Click YES</b>.";
      }
    });

    /**********************
     * 6) SECRET MESSAGE
     **********************/
    const secretInput = document.getElementById("secretInput");
    const revealBtn = document.getElementById("revealBtn");
    const secretMsg = document.getElementById("secretMsg");
    const changeLineBtn = document.getElementById("changeLineBtn");

    let lineIndex = 0;
    function showLine(){
      secretMsg.classList.add("show");
      secretMsg.innerHTML = loveLines[lineIndex % loveLines.length];
    }

    revealBtn.addEventListener("click", ()=>{
      const v = (secretInput.value || "").trim().toLowerCase();
      if(v === "ridhima"){
        showLine();
        softConfetti();
      } else {
        secretMsg.classList.add("show");
        secretMsg.innerHTML = "Close üò≠ but type <b>Ridhima</b> exactly‚Ä¶ then reveal üíå";
      }
    });

    changeLineBtn.addEventListener("click", ()=>{
      lineIndex++;
      showLine();
    });

    /**********************
     * 7) CONFETTI
     **********************/
    const confettiBtn = document.getElementById("confettiBtn");
    const canvas = document.getElementById("confetti");
    const ctx = canvas.getContext("2d");

    function resize(){
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener("resize", resize);
    resize();

    let pieces = [];
    function makePieces(count, power){
      const arr = [];
      for(let i=0;i<count;i++){
        arr.push({
          x: Math.random()*canvas.width,
          y: -20 - Math.random()*canvas.height*0.2,
          w: 6 + Math.random()*6,
          h: 10 + Math.random()*10,
          vx: (Math.random()*2-1) * (1.4 + power),
          vy: (Math.random()*2 + 2) * (1.6 + power),
          rot: Math.random()*Math.PI,
          vr: (Math.random()*2-1) * 0.12,
          a: 1
        });
      }
      return arr;
    }

    function draw(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      pieces.forEach(p=>{
        p.x += p.vx;
        p.y += p.vy;
        p.rot += p.vr;
        p.vy *= 0.995;
        p.a *= 0.992;

        ctx.save();
        ctx.globalAlpha = Math.max(0, p.a);
        ctx.translate(p.x, p.y);
        ctx.rotate(p.rot);

        // no fixed colors ‚Äî use random grayscale + slight pink tint
        const tint = Math.random();
        const r = 220 + Math.floor(tint*35);
        const g = 210 + Math.floor(tint*20);
        const b = 230 + Math.floor(tint*25);
        ctx.fillStyle = `rgba(${r},${g},${b},${ctx.globalAlpha})`;

        ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
        ctx.restore();
      });

      pieces = pieces.filter(p => p.y < canvas.height + 40 && p.a > 0.04);

      if(pieces.length){
        requestAnimationFrame(draw);
      }
    }

    function softConfetti(){
      pieces = pieces.concat(makePieces(90, 0.2));
      requestAnimationFrame(draw);
    }
    function blastConfetti(){
      pieces = pieces.concat(makePieces(220, 0.9));
      requestAnimationFrame(draw);
    }

    confettiBtn.addEventListener("click", ()=>{
      blastConfetti();
      spawnHearts(18);
    });

    /**********************
     * 8) FLOATING HEARTS
     **********************/
    const floatLayer = document.getElementById("floatLayer");
    function spawnHearts(n=12){
      for(let i=0;i<n;i++){
        const h = document.createElement("div");
        h.className = "float-heart";
        h.textContent = (Math.random() > 0.25) ? "‚ù§Ô∏è" : "üíò";
        h.style.left = Math.random()*100 + "vw";
        h.style.animationDuration = (8 + Math.random()*7) + "s";
        h.style.animationDelay = (Math.random()*2) + "s";
        h.style.fontSize = (14 + Math.random()*20) + "px";
        floatLayer.appendChild(h);

        setTimeout(()=>{ h.remove(); }, 16000);
      }
    }

    /**********************
     * 9) EXTRA: Tap anywhere to try music
     **********************/
    document.addEventListener("click", ()=>{
      if(main.style.display !== "none" && !musicOn){
        tryPlay();
      }
    }, { once:false });
  </script>
</body>
</html>
